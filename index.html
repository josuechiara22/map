<html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Timepicki is a light weight jQuery Time Picker plugin for using in form submission websites.">


  
      

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  
  
    
    
  </head>
  <body>
  



    

 

     <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDTJ2tKjoHugw78P12mjpAbb2F5sJEiW48"></script>

  
    


          
    



    
<style type="text/css"> 

       


    html, body, #map {
      height: 100%;
      margin: 0px;
      padding: 0px
    }
  </style>
 
   <style type="text/css">
    .input-controls {
      margin-top: 10px;
      border: 1px solid transparent;
      border-radius: 2px 0 0 2px;
      box-sizing: border-box;
      -moz-box-sizing: border-box;
      height: 32px;
      outline: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    }
    #searchInput {
      background-color: #fff;
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
      margin-left: 12px;
      padding: 0 11px 0 13px;
      text-overflow: ellipsis;
      width: 50%;
    }
    #searchInput:focus {
      border-color: #4d90fe;
    }

    #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 20px;
        padding-left: 10px;
        height: 32px;
      }







      #checkboxes { 
	position: absolute; 
	top: 50px; 
	right: 10px;
	font-family: 'arial', 'sans-serif'; 
	font-size: 14px;
	background-color: white;
	border: 1px solid black;
	padding: 10px 10px 0px 10px;
	}






  #hola01{
    width: 135px;
    height: 200px;
    background-color: #222;
    border-style: solid;
    border-color:#222;
    border-radius: 20px;
    color: #eee;
    padding: 0 2.0em;
    bottom: 15px;
    left: 10px;
}


#skybox3 {
    width: 150px;
    height: 160px;
    background-color: rgb(232, 231, 235);
    border-style: solid;
    border-color:#222;
    border-radius: 20px;
    color: rgb(15, 14, 14);
    padding: 0 1.4em;
    position: absolute;
    z-index: 100;
    left: 10px;
}

.color {
    border: 1px solid;
    border-color:#222;
    height: 20px;
    width: 20px;
    margin-right: 0.2em;
    float: left;
}
.blue {
    background: #cfe2f3;
}
.yellow {
    background: #ffff00;
}


.pink {
    background: #ea9999;
}
.green {
    background: #6aa84f;
}
.gray {
    background: #808080;
}
.red {
    background: #FF5733;
}





#info-box {
        background-color: white;
        border: 1px solid black;
        width: 50px;
    height: 40px;
        padding: 15px;
        position: absolute;
        left: 30px;
      }

      #info-box1 {
        background-color: white;
        border: 1px solid black;
        width: 50px;
    height: 40px;
        padding: 15px;
        position: absolute;
        left: 30px;
      }




</style>


  
    </head>
    <body>
      
     


         
           
                
        
          <div id="checkboxes">
            

          <input type="checkbox" value="chkRojos"id="chkRojos" onclick="changeLayer(this.value);" checked="checked">Supermarkets</input><br />
        </div>

                <input id="searchInput" class="input-controls" type="text" placeholder="Enter a location">
                <div  id="map" ></div>

              
                







                           <!--visualizador -->

                           <div id="skybox3" >
                              
                              <p><font size="4">SECTOR</font></p> 
                               <div  id="info-box"></div>
                               <br>    <br><br>
                               
                               
                               <p><font size="4">SUB SECTOR</font></p>
                               <div class="info-box1" id="info-box1"></div>
                               </p>
                              
                               </div>
                               <!--final del visualizador-->



                  <!--leyenda -->

                   <div id="hola01">
                 
                 
                  <p><font size="4">LEYENDA</font>
                  </p>
                  <div class="color blue"></div>
                  <p><font size="2">SECTOR 1</font>
                  </p>
                  <div class="color red"></div>
                  <p><font size="2">SECTOR 2</font>
                  </p>
                  <div class="color yellow"></div>
                  <p><font size="2">SECTOR 3</font>
                  </p>
                  <div class="color green"></div>
                  <p><font size="2">SECTOR 4</font>
                  </p>
                  <div class="color gray"></div>
                  <p><font size="2">SECTOR 5</font>
                  </p>
                  <div class="color pink"></div>
                  <p><font size="2">SECTOR 6</font>
                  </p>
                
                  
                  
                  
                  </div>
                  <!--final de leyenda-->









              <div id="controls">
                <select id="country">
                  <option value="SECTOR 61">SECTOR 6</option>
                  <option value="SECTOR 51">SECTOR 5</option>
                  <option value="SECTOR 41">SECTOR 4</option>
                  <option value="SECTOR 31">SECTOR 3</option>
                  <option value="SECTOR 21">SECTOR 2</option>
                  <option value="SECTOR 11">SECTOR 1</option>
                  <option value="us" selected>SAN JUAN DE MIRAFLORES</option>
                  
                </select>
              </div>


<script>


          // estos son las coordendas que se pueden remplazar para que se haga la seleccion

    var countryRestrict = {'country': 'us'};
      

      var countries = {
        'SECTOR 51': {
          center: {lat: -12.129252953194163, lng: -76.9561764099426},
          zoom: 16
        },
        'SECTOR 41': {
          center: {lat: -12.145468958472762, lng: -76.96864331744382},
          zoom: 15
        },
        'SECTOR 31': {
          center: {lat: -12.16462061353184, lng: -76.9697376587219},
          zoom: 15
        },
        'SECTOR 61': {
          center: {lat: -12.182050986199457, lng: -76.95978129885862},
          zoom: 15
        },
        'SECTOR 21': {
          center: {lat: -12.186308773367454, lng: -76.97947944186399},
          zoom: 16
        },
        'SECTOR 11': {
          center: {lat: -12.167242583823894, lng: -76.98301995776364},
          zoom: 16
        },

        'us': {
          center: {lat: -12.163005466957989, lng: -76.96911538623044},
          zoom: 13
        },
        
      };




        // esta relacionado el parametro de seleccion

      autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */     (
                document.getElementById('autocomplete')), {
              types: ['(cities)'],
              componentRestrictions: countryRestrict
            });
        places = new google.maps.places.PlacesService(map);


        // esta relacionado el parametro de seleccion
        document.getElementById('country').addEventListener(
            'change', setAutocompleteCountry);
      

  


   

      // parametro para seleccionar la informacion
      function setAutocompleteCountry() {
        var country = document.getElementById('country').value;
        if (country == 'all') {
          autocomplete.setComponentRestrictions([]);
          map.setCenter({lat: 15, lng: 0});
          map.setZoom(2);
        } else {
          autocomplete.setComponentRestrictions({'country': country});
          map.setCenter(countries[country].center);
          map.setZoom(countries[country].zoom);
        }
      }

















</script>



                
               <script>
               /* script */
               function initialize() {
                  var latlng = new google.maps.LatLng(-12.161663, -76.970832);
                  map = new google.maps.Map(document.getElementById('map'), {
                    zoom: countries['us'].zoom,
                    center: countries['us'].center,
                    mapTypeControl: true,
                    panControl: true,
                    zoomControl: true
                   });

                   










                
   
     

        






















                   
                          // Load GeoJSON.
      map.data.loadGeoJson('https://raw.githubusercontent.com/josuechiara22/githubclient/master/data.json');

                
                
                 // obtener el estilo en base a colores  que tiene registrado en el vector.
        map.data.setStyle(function(feature) {
          return /** @type {google.maps.Data.StyleOptions} */({
            fillColor: feature.getProperty('color'),
            strokeWeight: 1
          });
        });

      
         // visualiza informacion del vector
         map.data.addListener('mouseover', function(event) {
          document.getElementById('info-box').textContent =
              event.feature.getProperty('sectores');
              document.getElementById('info-box1').textContent =
              event.feature.getProperty('sub_sect');
              
              
        });
      
    





      


   var infor1 = document.getElementById('checkboxes');

          
      
    
    /* Push Legend to Right Top */
    map.controls[google.maps.ControlPosition.RIGHT_TOP].push(infor1);




    var infor2 = document.getElementById('controls');
    /* Push Legend to Right Top */
    map.controls[google.maps.ControlPosition.RIGHT_TOP].push(infor2);



    var legend = document.getElementById('hola01');

    /* Push Legend to Right Top */
    map.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(legend);



        var infor = document.getElementById('skybox3');

                
        div= document.createElement('div');
    div.innerHTML = '';
    infor.appendChild(div);
    
    var div = document.createElement('div');
    div.innerHTML = '';
    infor.appendChild(div);
    
    /* Push Legend to Right Top */
    map.controls[google.maps.ControlPosition.LEFT_TOP].push(infor);








                
       
    
 
                
    











                




                
                
                
                   var marker = new google.maps.Marker({
                     map: map,
                     position: latlng,
                     draggable: true,
                     anchorPoint: new google.maps.Point(0, -29)
                  });
                   var input = document.getElementById('searchInput');
                   map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
                   var geocoder = new google.maps.Geocoder();
                   var autocomplete = new google.maps.places.Autocomplete(input);
                   autocomplete.bindTo('bounds', map);
                   var infowindow = new google.maps.InfoWindow();   
                   autocomplete.addListener('place_changed', function() {
                       infowindow.close();
                       marker.setVisible(false);
                       var place = autocomplete.getPlace();
                       if (!place.geometry) {
                           window.alert("Autocomplete's returned place contains no geometry");
                           return;
                       }




       
      
                 
                       // If the place has a geometry, then present it on a map.
                       if (place.geometry.viewport) {
                           map.fitBounds(place.geometry.viewport);
                       } else {
                           map.setCenter(place.geometry.location);
                           map.setZoom(17);
                       }
                      
                       marker.setPosition(place.geometry.location);
                       marker.setVisible(true);          
                   
                       bindDataToForm(place.formatted_address,place.geometry.location.lat(),place.geometry.location.lng());
                       infowindow.setContent(place.formatted_address);
                       infowindow.open(map, marker);
                      
                   });
                   // this function will work on marker move event into map 
                   google.maps.event.addListener(marker, 'dragend', function() {
                       geocoder.geocode({'latLng': marker.getPosition()}, function(results, status) {
                       if (status == google.maps.GeocoderStatus.OK) {
                         if (results[0]) {        
                             bindDataToForm(results[0].formatted_address,marker.getPosition().lat(),marker.getPosition().lng());
                             infowindow.setContent(results[0].formatted_address);
                             infowindow.open(map, marker);
                         }
                       }
                       });
                   });
               }
               function bindDataToForm(address,lat,lng){
                  document.getElementById('direccion').value = address;
                  document.getElementById('latitud').value = lat;
                  document.getElementById('longitud').value = lng;
               }
               google.maps.event.addDomListener(window, 'load', initialize);
               </script>







            
            
            
          
       <div  >
        <form >


             
                 
                
   
 <!-- display selected location information -->

         <label>DIRECCIÃ“N</label> <input type="text" name="direccion"  id='direccion' ></p>
          
               
                <p><label>LATITUD</label> <input type="text" name="latitud" class="search_latitude" id='latitud' minlength="5" maxlength="6" ></p>
           
            
                <p><label>LONGITUD</label> <input type="text" name="longitud" class="search_longitude"  id='longitud' minlength="5" maxlength="6"></p>
        

         
       </form></div>
       
      




      


      
              
            


             
                
               
  
     
    </body>







 
</html>














